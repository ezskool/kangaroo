\subsubsection{Basic Interface Structure} % (fold)
\label{ssub:Basic Interface Structure}
The Android user interface is built upon an XML templating engine.
The basic interface is designed via XML templates and later on adapted
and filled with content via Java methods. Every Activity class inherits
from a basic activity class like ``TabActivity'' or ``ListActivity''.
The XML templates define a basic element of the according class also
(``TabHost'', '``ListView'').

% subsubsection Basic Interface Structure (end)

\subsubsection{Main Window} % (fold)
\label{ssub:MainWindow}

The main window is just the skeleton with the tablist, which then
contains the active window itself. The Activities are added
via Intents into the tabbar. An important point, when entering the embedded
Activities into the application's manifest file, is to add the intent filter
\begin{verbatim}
<category android:name="android.intent.category.EMBED"></category>
\end{verbatim}
also. This makes sure, that the Activity respects the boundaries of the
main window when activated.

% subsubsection Main Window (end)

\subsubsection{Dayplan} % (fold)
\label{ssub:Dayplan}
The DayPlan Activity is the basic status interface which shows the current
dayplan in a list. It also contains a context menu for manipulating events
and an application menu to reload events and invoke the optimizer. The
templating for this Activity consists of a template for the ListView and a
separate template for the single rows.

In order create the view, the list of events is fetched from the
ActiveDayPlan. After that a custom ArrayAdapter is used to populate the
single rows of the ListView.
The only slight problem is to get the correct object from the ArrayList,
when tapping a row in the Activity. Fortunately, when the onCreateContextMenu
method is called, it is passed a ContextMenuInfo object as a parameter. This
object contains an id, which is the same as the position in the original
ArrayList from which the view was populated. Therefore it can be used as an
index to identify the correct object in the list.

% subsubsection Dayplan (end)

